{"version":3,"file":"module.js","mappings":"qIAAuD,IAAIA,EAAE,EAAQ,KAAiBC,EAAE,EAAQ,GAAeC,EAAE,EAAQ,KAASC,EAAE,EAAQ,KAAsFC,EAA5E,SAAWJ,GAAG,OAAOA,GAAG,iBAAiBA,GAAG,YAAYA,EAAEA,EAAE,CAACK,QAAQL,EAAE,CAAOM,CAAEJ,GAAG,MAAMK,EAAE,CAACC,IAAI,MAAMC,IAAI,OAA0FC,EAAE,mBAAmBC,EAAE,oBAAsMC,EAAE,CAAC,cAAc,YAAY,eAAe,cAAcC,EAAE,EAAEC,SAASd,EAAEe,iBAAiBZ,EAAEa,UAAUV,EAAEW,WAAWV,EAAEW,UAAUC,EAAEC,YAAYC,MAAM,MAAMC,EAAEC,GAAGrB,EAAEsB,WAAWC,EAAExB,EAAEyB,YAAYC,EAAEzB,EAAE0B,aAAa5B,IAAIuB,EAAE,MAAMjB,GAAI,GAAE,CAACA,IAAIuB,EAAE3B,EAAE0B,aAAa5B,IAAIO,IAAIgB,EAAE,KAAM,GAAE,CAAChB,IAAIuB,EAAE5B,EAAE0B,aAAa3B,IAAI,GAAG,KAAKA,EAAE8B,OAAO,CAAC,IAAI7B,EAAE,IAAIA,EAAE8B,KAAKC,MAAMhC,EAAE,CAAC,MAAMD,GAAGuB,EAAE,oBAAoB,CAAC,MAAMjB,EAAE4B,EAAEhC,GAAGI,EAAE6B,SAAShC,IAAIH,EAAE,CAACoC,WAAWlC,EAAEmC,YAAYC,SAASpC,EAAEqC,UAAUC,YAAYtC,EAAEuC,aAAaC,UAAUxC,EAAEyC,cAAcpB,EAAEjB,EAAEsC,MAAM,CAAE,GAAE,CAACrB,EAAEvB,EAAEG,IAAI,OAAOC,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAK1C,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,YAAYC,QAAQC,QAAQ5B,GAAG6B,YAAYhC,EAAE,wBAAwB,mCAAmCyB,MAAMtB,GAAGlB,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAKzB,GAAGjB,EAAEC,QAAQwC,cAAc,MAAM,CAAC,cAAzjC,2BAA0kC5C,EAAEmD,cAAchD,EAAEC,QAAQwC,cAAc5C,EAAEmD,aAAa,CAACC,QAAQ,CAACC,UAAS,EAAGC,OAAO,SAASC,OAAO,aAAaC,OAAOzD,IAAI8B,EAAE9B,EAAC,GAAII,EAAEC,QAAQwC,cAAc,IAAI,CAACa,MAAM,CAACC,OAAO,EAAEC,SAAS,GAAGnC,EAAEoC,WAAWC,GAAGF,WAAWG,UAAU,WAAW,gCAAgC3D,EAAEC,QAAQwC,cAAc,KAAK,MAAMzC,EAAEC,QAAQwC,cAAc,KAAK,MAAMzC,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAACC,KAAK,WAAW,4BAA4B9C,GAAGf,EAAEC,QAAQwC,cAAc5C,EAAEiE,SAAS,CAAC,cAAr/C,0BAAqgDC,WAAU,EAAGlB,QAAQC,QAAQ5B,GAAG8C,YAAY,8BAA8BC,OAAOrE,GAAG8B,EAAE9B,EAAEsE,cAAcC,OAAOC,KAAK,QAAQrD,GAAGf,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAK1C,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAAC,cAActD,EAAE+D,KAAK,SAASR,KAAK,UAAUP,MAAM,CAACgB,MAAM,GAAGjD,EAAEkD,OAAOC,QAAQC,QAAQC,QAAQnD,GAAG,mBAAmBvB,EAAEC,QAAQwC,cAAc,OAAO,CAACa,MAAM,CAACqB,aAAa,OAAOC,YAAY,SAAS,OAAO7D,GAAGf,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAK1C,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAAC,cAAcrD,EAAE8D,KAAK,SAASR,KAAK,UAAUP,MAAM,CAACgB,MAAM,GAAGjD,EAAEkD,OAAOC,QAAQC,QAAQC,QAAQ,KAAKvE,GAAE,GAAI,oBAAoBH,EAAEC,QAAQwC,cAAc,OAAO,CAACa,MAAM,CAACqB,aAAa,OAAOC,YAAY,SAAS,OAAO5E,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAAC,cAAvkE,yBAAulES,KAAK,SAASR,KAAK,UAAUP,MAAM,CAACgB,MAAM,GAAGjD,EAAEkD,OAAOC,QAAQC,QAAQC,QAAQ3E,GAAG,8BAA8BgB,GAAGG,GAAGlB,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,KAAK3C,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAACS,KAAK,SAASR,KAAK,UAAUP,MAAM,CAACgB,MAAM,GAAGjD,EAAEkD,OAAOC,QAAQC,QAAQC,QAAQjD,GAAG,qBAAoB,EAAGK,EAAElC,IAAI,IAAIG,EAAE8E,SAASjF,GAAG,MAAM,CAACmC,SAAQ,EAAGS,MAAM,qBAAqB,MAAM3C,EAAEW,EAAEsE,QAAQjF,IAAID,EAAEC,KAAK,OAAOA,EAAEkF,OAAO,EAAE,CAAChD,SAAQ,EAAGS,MAAM,iBAAiB3C,EAAEmF,KAAK,SAAS,CAACjD,SAAQ,EAAE,GAAIkD,gBAAgBC,GAAGrF,EAAEsF,YAAY,IAAIC,GAAG,SAASxF,GAAGA,EAAEyF,KAAK,OAAOzF,EAAEQ,IAAI,KAAK,CAArC,CAAuCgF,IAAIA,EAAE,CAAC,IAAI,MAAME,EAAE,EAAErC,QAAQnD,EAAEyF,QAAQxF,EAAEyF,gBAAgBtF,EAAEU,UAAUT,EAAEU,WAAWE,MAAM,IAAI0E,EAAE,MAAMC,EAAExE,GAAGlB,EAAEC,QAAQmB,SAAS,CAACxB,GAAG,mBAAmBA,GAAG,KAAKA,EAAE+F,eAAeP,EAAEC,KAAKD,EAAEhF,IAAzD,CAA8DN,EAAE8F,WAAWzE,EAAEtB,GAAGD,EAAEiG,iCAAiC,CAAC5C,QAAQnD,EAAE0F,gBAAgBtF,GAAGL,GAAGiG,EAAE,KAAKJ,IAAIN,EAAEhF,IAAIc,EAAEkE,EAAEC,MAAMnE,EAAEkE,EAAEhF,IAAG,EAAGI,EAAEX,EAAEyB,YAAYb,EAAET,EAAEC,QAAQwC,cAAc,OAAO,KAAKiD,IAAIN,EAAEC,KAAKrF,EAAEC,QAAQwC,cAAc,IAAI,CAACsD,UAAU,gBAAgBrB,QAAQoB,EAAE,cAA5/F,0BAA6gG,qBAAqB,oBAAoB,IAAI,OAAOJ,IAAIN,EAAEhF,IAAIJ,EAAEC,QAAQwC,cAAc,IAAI,CAACsD,UAAU,gBAAgBrB,QAAQoB,EAAE,cAA5qG,+BAA6rG,gCAAgC,oCAAoChE,EAAE,CAACkE,aAAalD,QAAQhD,EAAEmG,iBAAiBjE,YAAYmC,OAAO,QAAQsB,EAAE3F,EAAEoG,sBAAiB,IAAST,OAAE,EAAOA,EAAEzD,aAAa,GAAGgC,YAAY,oBAAoBuB,QAAQ,IAAIxF,IAAIW,SAASd,EAAEuG,uCAAuC,CAAClD,QAAQnD,EAAE0F,gBAAgBtF,GAAG,cAAc,cAA/jH,qBAAglH,OAAOF,EAAEC,QAAQwC,cAAc,MAAM,CAAC,cAA5rH,YAA6sHzC,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,cAAc5C,EAAEC,QAAQwC,cAAc5C,EAAEuG,MAAM,CAACC,GAAG,iBAAiBC,MAAM,GAAGnC,MAAMrE,EAAE8F,SAASW,gBAAgB,GAAG7F,SAASS,EAAE,qBAAqBnB,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,gBAAgB5C,EAAEC,QAAQwC,cAAc5C,EAAEuG,MAAM,CAACE,MAAM,GAAGD,GAAG,cAAclC,MAAMrE,EAAE8F,SAASxD,aAAa,GAAG1B,SAASS,EAAE,kBAAkBnB,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,aAAa5C,EAAEC,QAAQwC,cAAc5C,EAAEuG,MAAM,CAACE,MAAM,GAAGD,GAAG,WAAWlC,MAAMrE,EAAE8F,SAAS1D,UAAU,GAAGxB,SAASS,EAAE,eAAeuE,IAAIN,EAAEC,MAAMrF,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,mBAAmBG,YAAYtC,GAAGT,EAAEC,QAAQwC,cAAc5C,EAAEuG,MAAM,CAACE,MAAM,GAAGD,GAAG,iBAAiBlC,MAAMrE,EAAE8F,SAASD,gBAAgB,GAAG3B,YAAY,gEAAgEtD,SAASS,EAAE,kBAAkB,cAA78I,4BAAg+IuE,IAAIN,EAAEhF,KAAKJ,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAK7C,EAAE2G,YAAYxG,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,cAAcG,YAAYtC,GAAGT,EAAEC,QAAQwC,cAAc5C,EAAE2G,YAAYC,OAAOC,OAAO,CAAC,EAAE5E,EAAE,CAACwE,MAAM,OAAOtG,EAAEC,QAAQwC,cAAcyC,EAAEuB,OAAOC,OAAO,CAAC,EAAE5E,EAAE,CAACc,MAAM,cAAc+D,WAAW,GAAGC,WAAW,OAAO5G,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAK1C,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAAC,cAActD,EAAE+D,KAAK,SAASR,KAAK,UAAUP,MAAM,CAACgB,MAAM,GAAG9D,EAAE+D,OAAOC,QAAQC,QAAQC,QAAQvE,GAAG,mBAAmBH,EAAEC,QAAQwC,cAAc,OAAO,CAACa,MAAM,CAACqB,aAAa,OAAOC,YAAY,SAAS,MAAM5E,EAAEC,QAAQwC,cAAc5C,EAAE+D,OAAO,CAAC,cAAcrD,EAAE8D,KAAK,SAASR,KAAK,UAAUP,MAAM,CAACgB,MAAM,GAAG9D,EAAE+D,OAAOC,QAAQC,QAAQC,QAAQ3D,GAAG,qBAAoB,EAA4hE,MAAM8F,EAAEjH,GAAGA,IAAIO,EAAEC,UAAK,IAASR,EAAEkH,EAAE,CAAC,CAAClE,MAAM,kBAAkBuB,MAAMhE,EAAEC,IAAI2G,UAA50O,cAAy1O,CAACnE,MAAM,8BAA8BuB,MAAMhE,EAAEE,IAAI0G,UAA33O,eAAy4OC,EAAQC,WAAtrE,SAAWlH,GAAG,MAAMkD,QAAQ/C,EAAEsF,gBAAgBzE,EAAEmG,YAAYzB,GAAG1F,GAAG6F,SAASF,EAAEO,iBAAiB3F,EAAE4F,eAAe3F,GAAGL,EAAEe,EAAE,IAAI6B,QAAQ4C,EAAEtD,aAAasD,EAAEa,gBAAgBb,EAAExD,WAAW5B,GAAGA,EAAE0B,YAAY0D,EAAEC,iBAAiBD,EAAEyB,qBAAqBzB,EAAEyB,mBAAmBhH,EAAEC,KAAK,MAAMc,EAAEC,GAAGrB,EAAEsB,SAASyF,EAAEnB,EAAEyB,sBAAsB9F,EAAEE,GAAGzB,EAAEsB,SAASH,MAAM6E,EAAErE,GAAG3B,EAAEsB,UAAS,IAAKM,EAAElB,GAAGV,EAAEsB,UAAS,GAAIU,EAAE,KAAKL,GAAE,GAAIjB,GAAE,GAAIe,GAAE,EAAE,EAAG2D,EAAE,KAAKzD,GAAE,GAAIjB,GAAE,GAAIe,GAAE,EAAE,EAAG,OAAOvB,EAAEC,QAAQwC,cAAczC,EAAEC,QAAQyC,SAAS,KAAK1C,EAAEC,QAAQwC,cAAc5C,EAAEuH,SAAS,CAACxE,MAAM,kBAAkB5C,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,uBAAuB5C,EAAEC,QAAQwC,cAAc5C,EAAEwH,iBAAiB,CAACpE,QAAQwC,EAAEtB,MAAMuB,EAAEyB,oBAAoBhH,EAAEC,IAAIM,SAASd,IAAI2B,EAAEN,KAAKF,EAAE0F,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAExG,GAAG,CAAC0F,SAASa,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAExG,EAAE0F,UAAU,CAACuB,mBAAmBvH,OAAOuB,EAAE0F,EAAEjH,GAAE,MAAOsB,GAAGlB,EAAEC,QAAQwC,cAAc5C,EAAEuH,SAAS,CAACxE,MAAM,mBAAmBvB,EAAErB,EAAEC,QAAQwC,cAAc6C,EAAE,CAACrC,QAAQ/C,EAAEqF,QAAQ,IAAI,CAAC3F,IAAI,MAAMC,EAAE4G,OAAOC,OAAO,CAAC,EAAEnG,GAAGT,EAAkD2G,OAAOC,OAAO,CAAC,EAAExG,EAAE0F,iBAAiB9F,EAAEsC,mBAAmBtC,EAAEyG,sBAAsBzG,EAAEoC,gBAAgBpC,EAAE6F,sBAAsB9F,EAAEmC,WAAWb,GAAE,GAAII,GAAE,GAAIR,EAAE0F,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAExG,GAAG,CAAC+F,iBAAiBQ,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAExG,EAAE+F,kBAAkB,CAACjE,YAAW,IAAKkE,eAAerG,EAAE+F,SAAS9F,IAAK,EAAhY,GAAoY0F,gBAAgBzE,EAAEF,WAAWiB,EAAElB,UAAUsE,IAAIlF,EAAEC,QAAQwC,cAAchC,EAAE,CAACE,iBAAiB,KAAKY,GAAE,EAAE,EAAGV,WAAWiB,EAAElB,UAAUsE,EAAEpE,UAAUgF,EAAE9E,YAAYU,EAAEhB,SAASd,IAAImB,EAAE0F,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAExG,GAAG,CAAC+F,iBAAiBQ,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAEpG,GAAG,CAAC0B,YAAW,IAAKkE,eAAeO,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAEnG,GAAG,CAACyB,WAAWpC,EAAEoC,aAAa4D,SAASa,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAEhB,GAAG,CAACtD,YAAYxC,EAAEwC,YAAYmE,eAAe3G,EAAE0C,UAAUJ,SAAStC,EAAEsC,aAAY,IAAK,KAAKwD,EAAEyB,qBAAqBhH,EAAEE,KAAKL,EAAEC,QAAQwC,cAAc5C,EAAE8C,MAAM,CAACC,MAAM,mBAAmB5C,EAAEC,QAAQwC,cAAc5C,EAAEuG,MAAM,CAACC,GAAG,iBAAiBC,MAAM,GAAGnC,MAAMjE,EAAE0F,SAASW,gBAAgB,GAAG7F,SAASd,EAAEiG,iCAAiC9F,EAAE,qBAAqB,EAA2hCiH,EAAQM,yBAAyBR,EAAEE,EAAQO,eAAepH,C,6BCGzuRqH,EAAOR,QAAU,EAAjB,I,sBCHFQ,EAAOR,QAAUS,C,uBCAjBD,EAAOR,QAAUU,C,uBCAjBF,EAAOR,QAAUW,C,qBCAjBH,EAAOR,QAAUY,C,uBCAjBJ,EAAOR,QAAUa,C,uBCAjBL,EAAOR,QAAUc,C,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAalB,QAGrB,IAAIQ,EAASO,EAAyBE,GAAY,CAGjDjB,QAAS,CAAC,GAOX,OAHAoB,EAAoBH,GAAUT,EAAQA,EAAOR,QAASgB,GAG/CR,EAAOR,OACf,CCrBAgB,EAAoBjI,EAAKyH,IACxB,IAAIa,EAASb,GAAUA,EAAOc,WAC7B,IAAOd,EAAiB,QACxB,IAAM,EAEP,OADAQ,EAAoBzH,EAAE8H,EAAQ,CAAEvI,EAAGuI,IAC5BA,CAAM,ECLdL,EAAoBzH,EAAI,CAACyG,EAASuB,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBhI,EAAEuI,EAAYC,KAASR,EAAoBhI,EAAEgH,EAASwB,IAC5E/B,OAAOgC,eAAezB,EAASwB,EAAK,CAAEE,YAAY,EAAMC,IAAKJ,EAAWC,IAE1E,ECNDR,EAAoBhI,EAAI,CAAC4I,EAAKC,IAAUpC,OAAOqC,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFb,EAAoBjH,EAAKiG,IACH,oBAAXiC,QAA0BA,OAAOC,aAC1CzC,OAAOgC,eAAezB,EAASiC,OAAOC,YAAa,CAAE/E,MAAO,WAE7DsC,OAAOgC,eAAezB,EAAS,aAAc,CAAE7C,OAAO,GAAO,E,u6BC2BvD,SAASgF,EAAYC,GAC1B,IAAIC,EAAM,0CAA0CD,EAAKE,mBAIzD,OAHIF,EAAKG,QACPF,GAAO,UAAYD,EAAKG,OAEnBF,CACT,CAEA,MAEaG,EAAuB,CAAC/D,EAFR,MAGvBA,EAAI,GACCA,EAAI,IACFA,EAAI,KACNA,EAAI,GAAK,IAGXA,EAAI,KAAO,IAGb,MAAMgE,UAAoBC,EAAAA,cAC/BC,iBAAAA,GACOC,KAAKC,MAAMC,MAAMf,eAAe,0BACnCa,KAAKC,MAAMC,MAAMC,qBAfM,IAiB3B,CAwCAC,MAAAA,GACE,MAAM,MAAEF,EAAK,WAAEG,EAAU,SAAEvJ,EAAQ,WAAEwJ,GAAeN,KAAKC,MACnDM,EAASC,IAEf,OACE,oCACE,kBAACC,EAAAA,eAAcA,CAACtE,UAAWoE,EAAOG,YAChC,kBAACC,EAAAA,gBAAeA,CACdjE,MAAO,GACPP,UAAU,gBACVyE,QACE,kBAACvJ,IAAAA,KAAE,OACG,kBAACwJ,OAAAA,KAAK,iBAAoB,gLAInC,kBAGD,kBAACC,EAAAA,aAAYA,CACXC,YAAa,IAAMT,EAAWU,kBAC9B5G,YAAY,sBACZG,MAAO2F,EAAMR,YACbuB,kBAAkB,EAClBnK,SAAUkJ,KAAKkB,wBAEhBhB,EAAMR,aACL,kBAACyB,EAAAA,WAAUA,CACTzH,MAAO,CAAE0H,UAAW,GACpBnH,KAAK,OACLoH,KAAK,OACLC,KAAM/B,EAAYW,GAClBqB,OAAO,SACPzG,QAAS,KAAM0G,EAAAA,EAAAA,mBAAkB,wCAAyC,CAAC,KAG/E,kBAACC,EAAAA,OAGH,kBAAChB,EAAAA,eAAcA,CAACtE,UAAWoE,EAAOG,YAChC,kBAACC,EAAAA,gBAAeA,CACdjE,MAAO,GACPP,UAAU,gBACVyE,QACE,kBAACvJ,IAAAA,KAAE,iBACa,kBAACwJ,OAAAA,KAAK,gBAAmB,8MAK5C,SAGD,kBAACrE,EAAAA,MAAKA,CACJE,MAAO,GACPnC,MAAO2F,EAAMP,OAAS,GACtB7I,SAAUkJ,KAAK0B,cACfrH,OAAQgG,EACRjG,YAAY,kBACZ+B,UAAWoE,EAAOoB,cAGpB,kBAACF,EAAAA,OAGH,kBAAChB,EAAAA,eAAcA,CAACtE,UAAWoE,EAAOG,YAChC,kBAACC,EAAAA,gBAAeA,CACdjE,MAAO,GACPP,UAAU,gBACVyE,QAAQ,sHACT,cAGD,kBAACgB,EAAAA,QAAOA,CACNrH,MAAO,CAAEvB,MAAO4G,EAAqBM,EAAMC,sBAAuB5F,MAAO2F,EAAMC,sBAC/E9G,QAAS,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,IAAQ,IAAQ,IAAS,KAAS,KAAM,KAAU,MAAUwI,KAAKtH,IAAW,CACtGvB,MAAO4G,EAAqBrF,GAC5BA,QACApB,YAAaoB,EAAQ,GAAK,oCAE5BzD,SAAU,EAAGyD,aACXiH,EAAAA,EAAAA,mBAAkB,sCAAuC,CACvDM,aAAcvH,IAGhBzD,EAAS,OAAKoJ,GAAAA,CAAOC,qBAAsB5F,I,IAG/C,kBAACkH,EAAAA,OAGH,kBAAChB,EAAAA,eAAcA,CAACtE,UAAWoE,EAAOG,YAChC,kBAACC,EAAAA,gBAAeA,CACdjE,MAAO,GACPP,UAAU,gBACVyE,QAAQ,6DACT,mBAGD,kBAACmB,EAAAA,aAAYA,CACX5F,UAAWoE,EAAOoB,YAClBpH,OAA+B,IAAxB2F,EAAM8B,cACblL,SAAUkJ,KAAKiC,sBAEjB,kBAACR,EAAAA,OAIT,C,8BAlJAC,EAAAA,KAAAA,iBAAiBQ,IACflC,KAAKC,MAAMnJ,SAAS,OACfkJ,KAAKC,MAAMC,OAAK,CACnBP,MAAOuC,EAAMX,OAAOhH,Q,IAIxB2G,EAAAA,KAAAA,yBAAyBiB,IACvB,MAAM,MAAEjC,EAAK,WAAEG,EAAU,SAAEvJ,GAAakJ,KAAKC,MAE7C,IAAKkC,EAAK5H,MACR,OAGF,MAAM3D,EAAIuL,EAAK5H,MAEX,8BAA8B6H,KAAKxL,GACrCE,EAAS,KAAKoJ,EAjEb,SAAwCT,GAC7C,IAAI4C,EAAM5C,aAAAA,EAAAA,EAAK6C,QAAQ,OACvB,IAAKD,EAEH,MAAO,CAAE3C,YAAaD,GAGxB,IAAIhD,EAAKgD,EAAI8C,UAAUF,EAAM,GAO7B,OANAA,EAAM5F,EAAG6F,QAAQ,KACbD,IACF5F,EAAKA,EAAG8F,UAAU,EAAGF,IAGvBA,EAAM5C,EAAI6C,QAAQ,UACdD,EAAM,EAED,CAAE3C,YAAajD,EAAIkD,MADdF,EAAI8C,UAAUF,EAAM,IAG3B,CAAE3C,YAAajD,EACxB,CA8C8B+F,CAA+B5L,KAEvDE,EAAS,OAAKoJ,GAAAA,CAAOR,YAAa9I,KAEpCyJ,GAAY,IAGd4B,EAAAA,KAAAA,uBAAuBC,IACrB,MAAM,MAAEhC,EAAK,SAAEpJ,EAAQ,WAAEuJ,GAAeL,KAAKC,OAE7CuB,EAAAA,EAAAA,mBAAkB,4CAA6C,CAC7DiB,SAAUvC,EAAM8B,gBAGlBlL,EAAS,OACJoJ,GAAAA,CACH8B,eAAgB9B,EAAM8B,iBAExB3B,GAAY,G,EAkHhB,MAAMoB,EAAqB,KACzB,MAAMlB,EAASC,IAEf,OACE,kBAACG,EAAAA,gBAAeA,CAACxE,UAAWoE,EAAOmC,eACjC,uCAKAlC,EAAY,KACT,CACLE,YAAYiC,EAAAA,EAAAA,KAAI,CACdC,aAAc,QAEhBF,eAAeC,EAAAA,EAAAA,KAAI,CACjBE,SAAU,IAEZlB,aAAagB,EAAAA,EAAAA,KAAI,CACfhB,YAAa,U,qIChOZ,MAAMmB,G,wUAAmB,IAC3BnF,EAAAA,gB,WAAcA,CACjBoF,IAAK,Q,yVAGA,MAAMC,EAAwB,CAAC,CAAEhK,MAAO,UAAWuB,MAAOuI,EAAiBC,QAAUrF,EAAAA,0B,gcCArF,MAAMuF,EAAoB,EAAG1F,yBAClC,MAAO2F,EAAQC,IAAa3L,EAAAA,EAAAA,WAAS,GAC/B4L,GAAQ1L,EAAAA,EAAAA,aAuKd,OACE,kBAAC2L,EAAAA,SAAQA,CACPC,aAAAA,EACAtK,MAAM,yCACNkK,OAAQA,EACRK,SAAU,IAAMJ,GAAWK,IAAOA,KA1Kf,MACrB,OAAQjG,GACN,KAAKuF,EAAiBC,IACpB,OACE,oCACE,kBAACjJ,KAAAA,KAAG,uBACJ,kBAAC2J,KAAAA,CAAG/J,MAAO,CAAEgK,kBAAmB,WAC9B,kBAACC,KAAAA,KAAG,WACO,IACT,kBAACzN,IAAAA,CACCoL,KAAK,yDACLC,OAAO,SACPqC,IAAI,sBACJlK,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,OACnC,oBAEI,IAAI,8BAGX,kBAACF,KAAAA,KAAG,SACI,kBAACG,SAAAA,KAAO,sBAA2B,mBAAgB,kBAACA,SAAAA,KAAO,WAAgB,KAEnF,kBAACH,KAAAA,KAAG,gFAC4E,IAC9E,kBAACzN,IAAAA,CACCoL,KAAK,sEACLC,OAAO,SACPqC,IAAI,sBACJlK,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,OACnC,mBAIH,kBAACF,KAAAA,KAAG,8HAOZ,KAAKb,EAAiBrM,IACpB,OACE,oCACE,kBAACY,IAAAA,KAAE,iYAOH,kBAACoM,KAAAA,CAAG/J,MAAO,CAAEgK,kBAAmB,SAAUd,aAAcQ,EAAMW,YAC5D,kBAACJ,KAAAA,KAAG,uGACmG,IACrG,kBAACzN,IAAAA,CACCoL,KAAK,qHACLC,OAAO,SACP7H,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,MAClCD,IAAI,uBACL,8BAEG,KAGN,kBAACD,KAAAA,KAAG,kIAEyB,IAC3B,kBAACzN,IAAAA,CACCoL,KAAK,kGACLC,OAAO,SACP7H,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,MAClCD,IAAI,uBACL,sDAEG,KAGN,kBAACD,KAAAA,KAAG,6CAGN,kBAACtM,IAAAA,KAAE,gGAC6F,IAC9F,kBAACnB,IAAAA,CACCoL,KAAK,4FACLC,OAAO,SACP7H,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,MAClCD,IAAI,uBACL,mEAEG,MAKZ,QAEE,OACE,oCACE,kBAAC9J,KAAAA,KAAG,uBACJ,kBAAC2J,KAAAA,CAAG/J,MAAO,CAAEgK,kBAAmB,SAAUd,aAAcQ,EAAMW,YAC5D,kBAACJ,KAAAA,KAAG,WACO,IACT,kBAACzN,IAAAA,CACCoL,KAAK,yDACLC,OAAO,SACP7H,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,MAClCD,IAAI,uBACL,eAEI,IAAI,mCAGX,kBAACD,KAAAA,KAAG,SACI,kBAACG,SAAAA,KAAO,sBAA2B,eAAY,kBAACA,SAAAA,KAAO,mBAAwB,KAEvF,kBAACH,KAAAA,KAAG,0EACJ,kBAACA,KAAAA,KAAG,UACK,kBAAC9C,OAAAA,KAAK,0BAA6B,sBAAmB,kBAACA,OAAAA,KAAK,2BAA8B,mBACtF,kBAACA,OAAAA,KAAK,WAEnB,kBAAC8C,KAAAA,KAAG,UACK,kBAAC9C,OAAAA,KAAK,+BAAkC,8DACpC,kBAACA,OAAAA,KAAK,aAEnB,kBAAC8C,KAAAA,KAAG,2BACsB,kBAAC9C,OAAAA,KAAK,cAAiB,qBAAkB,kBAACA,OAAAA,KAAK,QAAW,aAAW,IAC7F,kBAACA,OAAAA,KAAK,UAAa,qEAErB,kBAAC8C,KAAAA,KAAG,WACO,IACT,kBAACzN,IAAAA,CACCoL,KAAK,8EACLC,OAAO,SACP7H,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,MAClCD,IAAI,uBACL,iBAEI,IAAI,qDAGX,kBAACD,KAAAA,KAAG,WACO,IACT,kBAACzN,IAAAA,CACCoL,KAAK,6EACLC,OAAO,SACP7H,MAAO,CAAEgB,MAAO0I,EAAMzI,OAAOE,KAAKgJ,MAClCD,IAAI,uBACL,gBAEI,IAAI,+IAIX,kBAACD,KAAAA,KAAG,0HAEoB,kBAAC9C,OAAAA,KAAK,gBAAmB,4BAEjD,kBAAC8C,KAAAA,KAAG,sDACiD,kBAAC9C,OAAAA,KAAK,eAAkB,8EAMvF,EASGmD,GAAAA,ECpLP,IAAIC,EAAYpH,OAAOgC,eACnBqF,EAAarH,OAAOsH,iBACpBC,EAAoBvH,OAAOwH,0BAC3BC,EAAsBzH,OAAO0H,sBAC7BC,EAAe3H,OAAOqC,UAAUC,eAChCsF,EAAe5H,OAAOqC,UAAUwF,qBAChCC,EAAkB,CAAC3F,EAAKJ,EAAKrE,IAAUqE,KAAOI,EAAMiF,EAAUjF,EAAKJ,EAAK,CAAEE,YAAY,EAAM8F,cAAc,EAAMC,UAAU,EAAMtK,UAAWyE,EAAIJ,GAAOrE,EACtJuK,EAAiB,CAAC5O,EAAGW,KACvB,IAAK,IAAIoI,KAAQpI,IAAMA,EAAI,CAAC,GACtB2N,EAAapF,KAAKvI,EAAGoI,IACvB0F,EAAgBzO,EAAG+I,EAAMpI,EAAEoI,IAC/B,GAAIqF,EACF,IAAK,IAAIrF,KAAQqF,EAAoBzN,GAC/B4N,EAAarF,KAAKvI,EAAGoI,IACvB0F,EAAgBzO,EAAG+I,EAAMpI,EAAEoI,IAEjC,OAAO/I,CAAC,EAGV,MAAM6O,EAAwB,EAAGC,iBAAgBC,WAAUC,qBAAoB,EAAM/I,gBACnF,MAAMiH,GAAQ,IAAA1L,aACR6I,EAAS,CACb4E,WAAW,IAAAxC,KAAI,CACbtL,EAAG,CACDsC,OAAQ,GAEV,QAAS,CACPyH,UAAWgC,EAAMW,QAAQ,MAG7BlJ,MAAM,IAAA8H,MAZWzM,EAYO4O,EAAe,CAAC,EAAG1B,EAAMvJ,WAAWuL,MAZxCvO,EAY+C,CACjE6D,MAAO0I,EAAMzI,OAAOE,KAAKwK,UACzBnP,GAAG,IAAAyM,KAAI,CACLjI,MAAO0I,EAAMzI,OAAOE,KAAKgJ,KACzByB,eAAgB,YAChB,UAAW,CACTA,eAAgB,WAlBIpB,EAAWhO,EAAGkO,EAAkBvN,OAA1C,IAACX,EAAGW,EAuBtB,OAAuB,kBAAoB,MAAO,CAAEsF,WAAW,IAAAoJ,IAAGhF,EAAO4E,UAAWhJ,IAA8B,kBAAoB,IAAK,CAAEA,UAAWoE,EAAO1F,MAAQ,0BAA2BmK,EAAgB,8FAA+F,IAAqB,kBAAoB,IAAK,CAAE1D,KAAM2D,EAAU1D,OAAQ,SAAUqC,IAAK,cAAgB,0BAA2B,KAAMsB,GAAqC,kBAAoB,IAAK,CAAE/I,UAAWoE,EAAO1F,MAAwB,kBAAoB,IAAK,KAAM,sCAAsC,ECvC7lB2K,EAAU,KACrB,MAAMjF,GAASkF,EAAAA,EAAAA,YAAWjF,GAC1B,OAAO,kBAACkF,KAAAA,CAAGvJ,UAAWoE,EAAOoF,mB,EAGzBnF,EAAa4C,IACV,CACLuC,mBAAmBhD,EAAAA,EAAAA,KAAI,CACrBiD,UAAW,aAAaxC,EAAMzI,OAAOkL,OAAOC,OAC5CnM,OAAQyJ,EAAMW,QAAQ,EAAG,GACzBrH,MAAO,W,y6BCRN,MAAMqJ,UAAsBjG,EAAAA,cAiBjCM,MAAAA,GACE,MAAM,KAAE4F,GAAShG,KAAKC,MACtB,OAAK+F,GAASA,EAAK7K,OAIjB,kBAAC8K,MAAAA,KACC,kBAACC,KAAAA,KAAG,0BACHF,EAAKnE,KAAKsE,GACFnG,KAAKoG,WAAWD,MANpB,kBAACF,MAAAA,KAAI,UAUhB,C,8BA7BAI,EAAAA,KAAAA,QAAQ,CAAEC,MAAO,IAEjBF,EAAAA,KAAAA,cAAcD,I,IACCA,EAAb,MAAMI,EAAiB,QAAVJ,EAAAA,EAAMI,YAANJ,IAAAA,OAAAA,EAAAA,EAAYK,OACzB,OAAKD,EAKH,kBAACN,MAAAA,KACC,kBAACC,KAAAA,KAAG,QACJ,kBAACO,MAAAA,KAAKzO,KAAK0O,UAAUH,EAAM,KAAM,KAN5B,IAM4B,G,mPCPlC,MAAMI,UAAmBC,EAAAA,sBAO9B1G,KAAAA,CAAM2G,GAEJ,MClBwB,CAACA,IACvBA,EAAQC,MAAQC,EAAAA,QAAQC,WAAaH,EAAQC,MAAQC,EAAAA,QAAQE,aAIjEJ,EAAQK,QAAQC,SAAS5F,I,IAGNA,EACOA,GAHxBC,EAAAA,EAAAA,mBAAkB,uCAAwC,CACxDsF,IAAKD,EAAQC,IACb9E,cAAmC,QAApBT,EAAAA,EAAOS,qBAAPT,IAAAA,GAAAA,EACfpB,qBAAiD,QAA3BoB,EAAAA,EAAOpB,4BAAPoB,IAAAA,EAAAA,EAA+B,GACrD,GACF,EDMA6F,CAAaP,GACNQ,MAAMnH,MAAM2G,EACrB,CAMAS,sBAAAA,CAAuBpH,EAAoBqH,GACzC,MAAMC,GAAcC,EAAAA,EAAAA,kBACpB,O,+WAAO,C,sUAAA,IACFvH,GAAAA,CACHR,YAAa8H,EAAYE,QAAQxH,EAAMR,YAAa6H,GACpD5H,MAAOO,EAAMP,MAAQ6H,EAAYE,QAAQxH,EAAMP,MAAO4H,GAAc,IAExE,CAEMvG,eAAAA,G,sBAAN,YACE,OAAO,EAAK2G,YAAY,gBAAgBC,MAAK,EAAGC,kBAC9CA,EACIhL,OAAOiL,QAAQD,GAAchG,KAAI,EAAEtH,EAAOvB,MAAY,CAAEA,QAAOuB,YAC/D,IAER,E,iLA7BAwN,WAAAA,CAAYC,GACVX,MAAMW,GAFRC,EAAAA,KAAAA,gBAAAA,GAYAC,EAAAA,KAAAA,cAAc,CAAC,GATblI,KAAKiI,SAAWD,EAAiBhM,SAASuB,kBAC5C,EEZK,MAAM4K,EAAS,IAAIC,EAAAA,iBAA6DzB,GACpF0B,iBCKI,SAAsBpI,G,IAKlB5G,EAJT,MAAMA,ECVD,SAAsCA,G,IAUgCA,EAT3E,MAAMiP,E,+WAAiB,MAClBjP,GAAAA,CACH2C,SAAU,KAAK3C,EAAQ2C,UACvBK,iBAAkB,KAAKhD,EAAQgD,oBAajC,OAVAiM,EAAetM,SAASuB,mBAAqBlE,EAAQ2C,SAASuB,oBAAsBlE,EAAQ2C,SAASiM,SAGjGK,EAAetM,SAASuB,qBAAuBuF,EAAiBtM,MAA+B,QAAxB6C,EAAAA,EAAQgD,wBAARhD,IAAAA,OAAAA,EAAAA,EAA0BkP,OACnGD,EAAetM,SAASxD,YAAc,aACtC8P,EAAetM,SAASW,eAAiB,aACzC2L,EAAetM,SAAS1D,SAAW,aACnCgQ,EAAejM,iBAAiBjE,YAAa,GAGxCkQ,CACT,CDRkBE,CAA6BvI,EAAM5G,SAE7CoP,EAAc,CAClBrM,aAAclD,QAAQG,EAAQgD,iBAAiBqM,QAC/CnO,OAA6B,QAAtBlB,EAAAA,EAAQiD,sBAARjD,IAAAA,OAAAA,EAAAA,EAAwBqP,SAAU,GACzCtO,YAAa,gBACbqC,GAAI,SACJd,QAAS,IACPsE,EAAMrE,gBAAgB,OACjBvC,GAAAA,CACHgD,iBAAkB,OAAKhD,EAAQgD,kBAAgB,CAAEqM,QAAQ,IACzDpM,eAAgB,CAAEoM,OAAQ,IAC1B1M,SAAU3C,EAAQ2C,YAEtBlF,UAAUyF,EAAAA,EAAAA,wCAAuC0D,EAAO,WAG1D,OACE,oCACE,kBAAC8E,EAAqBA,CACpBC,eAAe,gBACfC,SAAS,uEACTC,mBAAmB,IAGrB,kBAACM,EAAOA,MAER,kBAACvC,EAAiBA,CAAC1F,mBAAoBlE,EAAQ2C,SAASuB,qBAExD,kBAACiI,EAAOA,MAER,kBAACnI,EAAAA,WAAUA,CAACC,YAAa0F,EAAuBpH,gBAAiBqE,EAAMrE,gBAAiBvC,QAASA,IAEhGA,EAAQ2C,SAASuB,qBAAuBuF,EAAiBC,KACxD,kBAAChK,EAAAA,MAAKA,CAACC,MAAM,WACX,kBAAC4D,EAAAA,YAAWA,EAAAA,EAAAA,CAAAA,EAAK6L,GAAAA,CAAazP,MAAM,UAAU0D,MAAO,OAK/D,ID7CGiM,eAAe9I,GACf+I,qBAAqB7C,E","sources":["webpack://grafana-googlesheets-datasource/../node_modules/@grafana/google-sdk/dist/index.production.js","webpack://grafana-googlesheets-datasource/../node_modules/@grafana/google-sdk/index.js","webpack://grafana-googlesheets-datasource/external amd \"@emotion/css\"","webpack://grafana-googlesheets-datasource/external amd \"@grafana/data\"","webpack://grafana-googlesheets-datasource/external amd \"@grafana/runtime\"","webpack://grafana-googlesheets-datasource/external amd \"@grafana/ui\"","webpack://grafana-googlesheets-datasource/external amd \"lodash\"","webpack://grafana-googlesheets-datasource/external amd \"react\"","webpack://grafana-googlesheets-datasource/webpack/bootstrap","webpack://grafana-googlesheets-datasource/webpack/runtime/compat get default export","webpack://grafana-googlesheets-datasource/webpack/runtime/define property getters","webpack://grafana-googlesheets-datasource/webpack/runtime/hasOwnProperty shorthand","webpack://grafana-googlesheets-datasource/webpack/runtime/make namespace object","webpack://grafana-googlesheets-datasource/./components/QueryEditor.tsx","webpack://grafana-googlesheets-datasource/./types.ts","webpack://grafana-googlesheets-datasource/./components/ConfigurationHelp.tsx","webpack://grafana-googlesheets-datasource/../node_modules/@grafana/experimental/dist/esm/ConfigEditor/DataSourceDescription.js","webpack://grafana-googlesheets-datasource/./components/Divider.tsx","webpack://grafana-googlesheets-datasource/./components/MetaInspector.tsx","webpack://grafana-googlesheets-datasource/./DataSource.ts","webpack://grafana-googlesheets-datasource/./tracking.ts","webpack://grafana-googlesheets-datasource/./module.ts","webpack://grafana-googlesheets-datasource/./components/ConfigEditor.tsx","webpack://grafana-googlesheets-datasource/./utils.ts"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"@grafana/data\"),t=require(\"@grafana/ui\"),a=require(\"react\"),n=require(\"lodash\");function l(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var o=l(a);const i={JWT:\"jwt\",GCE:\"gce\"},r=\"Configuration help box\",s=\"Configuration drop zone\",u=\"Configuration text area\",c=\"Paste JWT button\",d=\"Upload JWT button\",p=\"JWT form\",f=\"JWT button\",m=\"GCE button\",g=\"Private Key Path Input\",h=\"Private Key Input\",y=\"Fill JWT info manually\",E=\"Show private key path input\",T=\"Show private key input\",v=[\"private_key\",\"token_uri\",\"client_email\",\"project_id\"],b=({onChange:e,showConfigEditor:n,showPaste:l,showUpload:i,isPasting:r,isUploading:p})=>{const[f,m]=a.useState(),g=t.useTheme2(),h=a.useCallback((e=>{m(null),l()}),[l]),E=a.useCallback((e=>{i(),m(null)}),[i]),T=a.useCallback((t=>{if(\"\"!==t.trim()){let a;try{a=JSON.parse(t)}catch(e){m(\"Invalid JWT token\")}const l=j(a);l.isValid?(n(),e({privateKey:a.private_key,tokenUri:a.token_uri,clientEmail:a.client_email,projectId:a.project_id})):m(l.error)}}),[m,e,n]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(t.Field,{label:\"JWT token\",invalid:Boolean(f),description:r?\"Paste JWT token below\":\"Upload or paste Google JWT token\",error:f},o.default.createElement(o.default.Fragment,null,p&&o.default.createElement(\"div\",{\"data-testid\":s},t.FileDropzone&&o.default.createElement(t.FileDropzone,{options:{multiple:!1,accept:\".json\"},readAs:\"readAsText\",onLoad:e=>{T(e)}},o.default.createElement(\"p\",{style:{margin:0,fontSize:`${g.typography.h4.fontSize}`,textAlign:\"center\"}},\"Drop the Google JWT file here\",o.default.createElement(\"br\",null),o.default.createElement(\"br\",null),o.default.createElement(t.Button,{fill:\"outline\"},\"Click to browse files\")))),r&&o.default.createElement(t.TextArea,{\"data-testid\":u,autoFocus:!0,invalid:Boolean(f),placeholder:\"Paste Google JWT token here\",onBlur:e=>T(e.currentTarget.value),rows:12}))),!r&&o.default.createElement(o.default.Fragment,null,o.default.createElement(t.Button,{\"data-testid\":c,type:\"button\",fill:\"outline\",style:{color:`${g.colors.primary.text}`},onClick:h},\"Paste JWT Token\"),o.default.createElement(\"span\",{style:{paddingRight:\"10px\",paddingLeft:\"10px\"}},\"or\")),r&&o.default.createElement(o.default.Fragment,null,o.default.createElement(t.Button,{\"data-testid\":d,type:\"button\",fill:\"outline\",style:{color:`${g.colors.primary.text}`},onClick:()=>{i()}},\"Upload JWT Token\"),o.default.createElement(\"span\",{style:{paddingRight:\"10px\",paddingLeft:\"10px\"}},\"or\")),o.default.createElement(t.Button,{\"data-testid\":y,type:\"button\",fill:\"outline\",style:{color:`${g.colors.primary.text}`},onClick:n},\"Fill In JWT Token manually\"),r&&f&&o.default.createElement(t.Field,null,o.default.createElement(t.Button,{type:\"button\",fill:\"outline\",style:{color:`${g.colors.primary.text}`},onClick:E},\"Upload JWT Token\")))},j=e=>{if(!n.isObject(e))return{isValid:!1,error:\"Invalid JWT token\"};const t=v.filter((t=>!e[t]));return t.length>0?{isValid:!1,error:`Missing keys: ${t.join(\", \")}`}:{isValid:!0}},{SecretFormField:k}=t.LegacyForms;var J;!function(e){e.PATH=\"path\",e.JWT=\"jwt\"}(J||(J={}));const P=({options:a,onReset:n,onOptionsChange:l,showPaste:i,showUpload:r})=>{var s;const[u,f]=o.default.useState((e=>\"privateKeyPath\"in e&&\"\"!==e.privateKeyPath?J.PATH:J.JWT)(a.jsonData)),m=t=>e.onUpdateDatasourceJsonDataOption({options:a,onOptionsChange:l},t),y=()=>{u===J.JWT?f(J.PATH):f(J.JWT)},v=t.useTheme2(),b=o.default.createElement(\"span\",null,u===J.PATH?o.default.createElement(\"a\",{className:\"external-link\",onClick:y,\"data-testid\":T},\"Paste private key\"):\"Paste private key\",\" \",\"or  \",u===J.JWT?o.default.createElement(\"a\",{className:\"external-link\",onClick:y,\"data-testid\":E},\"provide path to private file\"):\"provide path to private key file\"),j={isConfigured:Boolean(a.secureJsonFields.privateKey),value:(null===(s=a.secureJsonData)||void 0===s?void 0:s.privateKey)||\"\",placeholder:\"Enter Private key\",onReset:()=>n(),onChange:e.onUpdateDatasourceSecureJsonDataOption({options:a,onOptionsChange:l},\"privateKey\"),\"data-testid\":h};return o.default.createElement(\"div\",{\"data-testid\":p},o.default.createElement(t.Field,{label:\"Project ID\"},o.default.createElement(t.Input,{id:\"defaultProject\",width:60,value:a.jsonData.defaultProject||\"\",onChange:m(\"defaultProject\")})),o.default.createElement(t.Field,{label:\"Client email\"},o.default.createElement(t.Input,{width:60,id:\"clientEmail\",value:a.jsonData.clientEmail||\"\",onChange:m(\"clientEmail\")})),o.default.createElement(t.Field,{label:\"Token URI\"},o.default.createElement(t.Input,{width:60,id:\"tokenUri\",value:a.jsonData.tokenUri||\"\",onChange:m(\"tokenUri\")})),u===J.PATH&&o.default.createElement(t.Field,{label:\"Private key path\",description:b},o.default.createElement(t.Input,{width:60,id:\"privateKeyPath\",value:a.jsonData.privateKeyPath||\"\",placeholder:\"File location of your private key (e.g. /etc/secrets/gce.pem)\",onChange:m(\"privateKeyPath\"),\"data-testid\":g})),u===J.JWT&&o.default.createElement(o.default.Fragment,null,t.SecretInput?o.default.createElement(t.Field,{label:\"Private key\",description:b},o.default.createElement(t.SecretInput,Object.assign({},j,{width:60}))):o.default.createElement(k,Object.assign({},j,{label:\"Private key\",labelWidth:10,inputWidth:20}))),o.default.createElement(o.default.Fragment,null,o.default.createElement(t.Button,{\"data-testid\":c,type:\"button\",fill:\"outline\",style:{color:`${v.colors.primary.text}`},onClick:i},\"Paste JWT Token\"),o.default.createElement(\"span\",{style:{paddingRight:\"10px\",paddingLeft:\"10px\"}},\"or\"),o.default.createElement(t.Button,{\"data-testid\":d,type:\"button\",fill:\"outline\",style:{color:`${v.colors.primary.text}`},onClick:r},\"Upload JWT Token\")))};function C(n){const{options:l,onOptionsChange:r,authOptions:s}=n,{jsonData:u,secureJsonFields:c,secureJsonData:d}=l,p=()=>Boolean(u.clientEmail&&u.defaultProject&&u.tokenUri&&(c&&c.privateKey||u.privateKeyPath));u.authenticationType||(u.authenticationType=i.JWT);const[f,m]=a.useState(O(u.authenticationType)),[g,h]=a.useState(p()),[y,E]=a.useState(!1),[T,v]=a.useState(!0),j=()=>{E(!1),v(!0),h(!1)},k=()=>{E(!0),v(!1),h(!1)};return o.default.createElement(o.default.Fragment,null,o.default.createElement(t.FieldSet,{label:\"Authentication\"},o.default.createElement(t.Field,{label:\"Authentication type\"},o.default.createElement(t.RadioButtonGroup,{options:s,value:u.authenticationType||i.JWT,onChange:e=>{h(p()),r(Object.assign(Object.assign({},l),{jsonData:Object.assign(Object.assign({},l.jsonData),{authenticationType:e})})),m(O(e))}}))),f&&o.default.createElement(t.FieldSet,{label:\"JWT Key Details\"},g?o.default.createElement(P,{options:l,onReset:()=>(e=>{const t=Object.assign({},d),a=e?Object.assign(Object.assign({},l.jsonData),e):Object.assign({},l.jsonData);delete a.clientEmail,delete a.defaultProject,delete a.tokenUri,delete a.privateKeyPath,delete t.privateKey,m(!0),h(!1),r(Object.assign(Object.assign({},l),{secureJsonFields:Object.assign(Object.assign({},l.secureJsonFields),{privateKey:!1}),secureJsonData:t,jsonData:a}))})(),onOptionsChange:r,showUpload:j,showPaste:k}):o.default.createElement(b,{showConfigEditor:()=>{h(!0)},showUpload:j,showPaste:k,isPasting:y,isUploading:T,onChange:e=>{r(Object.assign(Object.assign({},l),{secureJsonFields:Object.assign(Object.assign({},c),{privateKey:!0}),secureJsonData:Object.assign(Object.assign({},d),{privateKey:e.privateKey}),jsonData:Object.assign(Object.assign({},u),{clientEmail:e.clientEmail,defaultProject:e.projectId,tokenUri:e.tokenUri})}))}}),\" \"),u.authenticationType===i.GCE&&o.default.createElement(t.Field,{label:\"Default project\"},o.default.createElement(t.Input,{id:\"defaultProject\",width:60,value:l.jsonData.defaultProject||\"\",onChange:e.onUpdateDatasourceJsonDataOption(n,\"defaultProject\")})))}const O=e=>e===i.JWT||void 0===e,W=[{label:\"Google JWT File\",value:i.JWT,ariaLabel:f},{label:\"GCE Default Service Account\",value:i.GCE,ariaLabel:m}];exports.AuthConfig=C,exports.ConnectionConfig=e=>{const{options:{jsonData:a}}=e;a.authenticationType||(a.authenticationType=i.JWT);const n=a.authenticationType===i.JWT||void 0===a.authenticationType;return o.default.createElement(o.default.Fragment,null,o.default.createElement(C,Object.assign({authOptions:W},e)),o.default.createElement(\"div\",{className:\"grafana-info-box\",style:{marginTop:\"16px\"},\"data-testid\":r},o.default.createElement(\"p\",null,\"Don’t know how to get a service account key file or create a service account? Read more\",\" \",o.default.createElement(\"a\",{className:\"external-link\",target:\"_blank\",rel:\"noopener noreferrer\",href:\"https://grafana.com/docs/grafana/latest/datasources/google-cloud-monitoring/google-authentication/\"},\"in the documentation.\"))),!n&&o.default.createElement(t.Alert,{title:\"\",severity:\"info\"},\"Verify GCE default service account by clicking Save & Test\"))},exports.GOOGLE_AUTH_TYPE_OPTIONS=W,exports.GoogleAuthType=i,exports.JWTConfigEditor=b,exports.JWTForm=P;\n//# sourceMappingURL=index.production.js.map\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./dist/index.production.js');\n} else {\n  module.exports = require('./dist/index.development.js');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__89__;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__531__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__241__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { QueryEditorProps } from '@grafana/data';\nimport { DataSourceOptions } from '@grafana/google-sdk';\nimport { InlineFieldRow, InlineFormLabel, InlineSwitch, Input, LinkButton, Segment, SegmentAsync } from '@grafana/ui';\nimport React, { ChangeEvent, PureComponent } from 'react';\nimport { DataSource } from '../DataSource';\nimport { SheetsQuery } from '../types';\nimport { reportInteraction } from '@grafana/runtime';\nimport { css } from '@emotion/css';\n\ntype Props = QueryEditorProps<DataSource, SheetsQuery, DataSourceOptions>;\n\nexport function getGoogleSheetRangeInfoFromURL(url: string): Partial<SheetsQuery> {\n  let idx = url?.indexOf('/d/');\n  if (!idx) {\n    // The original value\n    return { spreadsheet: url };\n  }\n\n  let id = url.substring(idx + 3);\n  idx = id.indexOf('/');\n  if (idx) {\n    id = id.substring(0, idx);\n  }\n\n  idx = url.indexOf('range=');\n  if (idx > 0) {\n    const sub = url.substring(idx + 'range='.length);\n    return { spreadsheet: id, range: sub };\n  }\n  return { spreadsheet: id };\n}\n\nexport function toGoogleURL(info: SheetsQuery): string {\n  let url = `https://docs.google.com/spreadsheets/d/${info.spreadsheet}/view`;\n  if (info.range) {\n    url += '#range=' + info.range;\n  }\n  return url;\n}\n\nconst defaultCacheDuration = 300;\n\nexport const formatCacheTimeLabel = (s: number = defaultCacheDuration) => {\n  if (s < 60) {\n    return s + 's';\n  } else if (s < 3600) {\n    return s / 60 + 'm';\n  }\n\n  return s / 3600 + 'h';\n};\n\nexport class QueryEditor extends PureComponent<Props> {\n  componentDidMount() {\n    if (!this.props.query.hasOwnProperty('cacheDurationSeconds')) {\n      this.props.query.cacheDurationSeconds = defaultCacheDuration; // um :(\n    }\n  }\n\n  onRangeChange = (event: ChangeEvent<HTMLInputElement>) => {\n    this.props.onChange({\n      ...this.props.query,\n      range: event.target.value,\n    });\n  };\n\n  onSpreadsheetIDChange = (item: any) => {\n    const { query, onRunQuery, onChange } = this.props;\n\n    if (!item.value) {\n      return; // ignore delete?\n    }\n\n    const v = item.value;\n    // Check for pasted full URLs\n    if (/(.*)\\/spreadsheets\\/d\\/(.*)/.test(v)) {\n      onChange({ ...query, ...getGoogleSheetRangeInfoFromURL(v) });\n    } else {\n      onChange({ ...query, spreadsheet: v });\n    }\n    onRunQuery();\n  };\n\n  toggleUseTimeFilter = (event?: React.SyntheticEvent<HTMLInputElement>) => {\n    const { query, onChange, onRunQuery } = this.props;\n\n    reportInteraction('grafana_google_sheets_time_filter_toggled', {\n      checked: !query.useTimeFilter,\n    });\n\n    onChange({\n      ...query,\n      useTimeFilter: !query.useTimeFilter,\n    });\n    onRunQuery();\n  };\n\n  render() {\n    const { query, onRunQuery, onChange, datasource } = this.props;\n    const styles = getStyles();\n\n    return (\n      <>\n        <InlineFieldRow className={styles.rowSpacing}>\n          <InlineFormLabel\n            width={10}\n            className=\"query-keyword\"\n            tooltip={\n              <p>\n                The <code>spreadsheetId</code> is used to identify which spreadsheet is to be accessed or altered. This\n                ID is the value between the &quot/d/&quot and the &quot/edit&quot in the URL of your spreadsheet.\n              </p>\n            }\n          >\n            Spreadsheet ID\n          </InlineFormLabel>\n          <SegmentAsync\n            loadOptions={() => datasource.getSpreadSheets()}\n            placeholder=\"Enter SpreadsheetID\"\n            value={query.spreadsheet}\n            allowCustomValue={true}\n            onChange={this.onSpreadsheetIDChange}\n          />\n          {query.spreadsheet && (\n            <LinkButton\n              style={{ marginTop: 1 }}\n              fill=\"text\"\n              icon=\"link\"\n              href={toGoogleURL(query)}\n              target=\"_blank\"\n              onClick={() => reportInteraction('grafana_google_sheets_document_opened', {})}\n            />\n          )}\n          <QueryRowTerminator />\n        </InlineFieldRow>\n\n        <InlineFieldRow className={styles.rowSpacing}>\n          <InlineFormLabel\n            width={10}\n            className=\"query-keyword\"\n            tooltip={\n              <p>\n                A string like <code>Sheet1!A1:B2</code>, that refers to a group of cells in the spreadsheet, and is\n                typically used in formulas. Named ranges are also supported. When a named range conflicts with a\n                sheet&rsquo;s name, the named range is preferred.\n              </p>\n            }\n          >\n            Range\n          </InlineFormLabel>\n          <Input\n            width={30}\n            value={query.range || ''}\n            onChange={this.onRangeChange}\n            onBlur={onRunQuery}\n            placeholder=\"Class Data!A2:E\"\n            className={styles.marginRight}\n          />\n\n          <QueryRowTerminator />\n        </InlineFieldRow>\n\n        <InlineFieldRow className={styles.rowSpacing}>\n          <InlineFormLabel\n            width={10}\n            className=\"query-keyword\"\n            tooltip=\"Time in seconds that the spreadsheet will be cached in Grafana after receiving a response from the spreadsheet API\"\n          >\n            Cache Time\n          </InlineFormLabel>\n          <Segment\n            value={{ label: formatCacheTimeLabel(query.cacheDurationSeconds), value: query.cacheDurationSeconds }}\n            options={[0, 5, 10, 30, 60, 60 * 2, 60 * 5, 60 * 10, 60 * 30, 3600, 3600 * 2, 3600 * 5].map((value) => ({\n              label: formatCacheTimeLabel(value),\n              value,\n              description: value ? '' : 'Response is not cached at all',\n            }))}\n            onChange={({ value }) => {\n              reportInteraction('grafana_google_sheets_cache_updated', {\n                secondsValue: value,\n              });\n\n              onChange({ ...query, cacheDurationSeconds: value! });\n            }}\n          />\n          <QueryRowTerminator />\n        </InlineFieldRow>\n\n        <InlineFieldRow className={styles.rowSpacing}>\n          <InlineFormLabel\n            width={10}\n            className=\"query-keyword\"\n            tooltip=\"Apply the dashboard time range to the first time fieldAPI\"\n          >\n            Use Time Filter\n          </InlineFormLabel>\n          <InlineSwitch\n            className={styles.marginRight}\n            value={query.useTimeFilter === true}\n            onChange={this.toggleUseTimeFilter}\n          />\n          <QueryRowTerminator />\n        </InlineFieldRow>\n      </>\n    );\n  }\n}\n\nconst QueryRowTerminator = () => {\n  const styles = getStyles();\n\n  return (\n    <InlineFormLabel className={styles.rowTerminator}>\n      <></>\n    </InlineFormLabel>\n  );\n};\n\nconst getStyles = () => {\n  return {\n    rowSpacing: css({\n      marginBottom: '4px',\n    }),\n    rowTerminator: css({\n      flexGrow: 1,\n    }),\n    marginRight: css({\n      marginRight: '4px',\n    }),\n  };\n};\n","import { DataQuery } from '@grafana/schema';\nimport { GoogleAuthType, GOOGLE_AUTH_TYPE_OPTIONS, DataSourceSecureJsonData } from '@grafana/google-sdk';\n\nexport const GoogleSheetsAuth = {\n  ...GoogleAuthType,\n  API: 'key',\n} as const;\n\nexport const googleSheetsAuthTypes = [{ label: 'API Key', value: GoogleSheetsAuth.API }, ...GOOGLE_AUTH_TYPE_OPTIONS];\n\nexport interface GoogleSheetsSecureJSONData extends DataSourceSecureJsonData {\n  apiKey?: string;\n}\n\nexport interface CacheInfo {\n  hit: boolean;\n  count: number;\n  expires: string;\n}\n\nexport interface SheetResponseMeta {\n  spreadsheetId: string;\n  range: string;\n  majorDimension: string;\n  cache: CacheInfo;\n  warnings: string[];\n}\n\n//-------------------------------------------------------------------------------\n// The Sheets specific types\n//-------------------------------------------------------------------------------\n\nexport interface SheetsQuery extends DataQuery {\n  spreadsheet: string;\n  range?: string;\n  cacheDurationSeconds?: number;\n  useTimeFilter?: boolean;\n}\n","import React, { useState } from 'react';\nimport { Collapse, useTheme2 } from '@grafana/ui';\nimport { GoogleSheetsAuth } from '../types';\n\ninterface Props {\n  authenticationType: string;\n}\n\nexport const ConfigurationHelp = ({ authenticationType }: Props) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const theme = useTheme2();\n\n  const renderHelpBody = () => {\n    switch (authenticationType) {\n      case GoogleSheetsAuth.API:\n        return (\n          <>\n            <h4>Generate an API key</h4>\n            <ol style={{ listStylePosition: 'inside' }}>\n              <li>\n                Open the{' '}\n                <a\n                  href=\"https://console.developers.google.com/apis/credentials\"\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                  style={{ color: theme.colors.text.link }}\n                >\n                  Credentials page\n                </a>{' '}\n                in the Google API Console.\n              </li>\n              <li>\n                Click <strong>Create Credentials</strong> and then click <strong>API key</strong>.\n              </li>\n              <li>\n                Before using Google APIs, you need to turn them on in a Google Cloud project.{' '}\n                <a\n                  href=\"https://console.cloud.google.com/apis/library/sheets.googleapis.com\"\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                  style={{ color: theme.colors.text.link }}\n                >\n                  Enable the API\n                </a>\n              </li>\n              <li>\n                Copy the key and paste it in the API Key field above. The file contents are encrypted and saved in the\n                Grafana database.\n              </li>\n            </ol>\n          </>\n        );\n      case GoogleSheetsAuth.GCE:\n        return (\n          <>\n            <p>\n              When Grafana is running on a Google Compute Engine (GCE) virtual machine, Grafana can automatically\n              retrieve default credentials from the metadata server. As a result, there is no need to generate a private\n              key file for the service account. You also do not need to upload the file to Grafana. The following\n              preconditions must be met before Grafana can retrieve default credentials.\n            </p>\n\n            <ol style={{ listStylePosition: 'inside', marginBottom: theme.spacing() }}>\n              <li>\n                You must create a Service Account for use by the GCE virtual machine. For more information, refer to{' '}\n                <a\n                  href=\"https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances#createanewserviceaccount\"\n                  target=\"_blank\"\n                  style={{ color: theme.colors.text.link }}\n                  rel=\"noreferrer noopener\"\n                >\n                  Create new service account\n                </a>\n                .\n              </li>\n              <li>\n                Verify that the GCE virtual machine instance is running as the service account that you created. For\n                more information, refer to{' '}\n                <a\n                  href=\"https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances#using\"\n                  target=\"_blank\"\n                  style={{ color: theme.colors.text.link }}\n                  rel=\"noreferrer noopener\"\n                >\n                  setting up an instance to run as a service account\n                </a>\n                .\n              </li>\n              <li>Allow access to the specified API scope.</li>\n            </ol>\n\n            <p>\n              For more information about creating and enabling service accounts for GCE instances, refer to{' '}\n              <a\n                href=\"https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances\"\n                target=\"_blank\"\n                style={{ color: theme.colors.text.link }}\n                rel=\"noreferrer noopener\"\n              >\n                enabling service accounts for instances in Google documentation\n              </a>\n              .\n            </p>\n          </>\n        );\n      default:\n        // Default is JWT\n        return (\n          <>\n            <h4>Generate a JWT file</h4>\n            <ol style={{ listStylePosition: 'inside', marginBottom: theme.spacing() }}>\n              <li>\n                Open the{' '}\n                <a\n                  href=\"https://console.developers.google.com/apis/credentials\"\n                  target=\"_blank\"\n                  style={{ color: theme.colors.text.link }}\n                  rel=\"noreferrer noopener\"\n                >\n                  Credentials\n                </a>{' '}\n                page in the Google API Console.\n              </li>\n              <li>\n                Click <strong>Create Credentials</strong> then click <strong>Service account</strong>.\n              </li>\n              <li>On the Create service account page, enter the Service account details.</li>\n              <li>\n                On the <code>Create service account</code> page, fill in the <code>Service account details</code> and\n                then click <code>Create</code>\n              </li>\n              <li>\n                On the <code>Service account permissions</code> page, don&rsquo;t add a role to the service account.\n                Just click <code>Continue</code>\n              </li>\n              <li>\n                In the next step, click <code>Create Key</code>. Choose key type <code>JSON</code> and click{' '}\n                <code>Create</code>. A JSON key file will be created and downloaded to your computer\n              </li>\n              <li>\n                Open the{' '}\n                <a\n                  href=\"https://console.cloud.google.com/apis/library/sheets.googleapis.com?q=sheet\"\n                  target=\"_blank\"\n                  style={{ color: theme.colors.text.link }}\n                  rel=\"noreferrer noopener\"\n                >\n                  Google Sheets\n                </a>{' '}\n                in API Library and enable access for your account\n              </li>\n              <li>\n                Open the{' '}\n                <a\n                  href=\"https://console.cloud.google.com/apis/library/drive.googleapis.com?q=drive\"\n                  target=\"_blank\"\n                  style={{ color: theme.colors.text.link }}\n                  rel=\"noreferrer noopener\"\n                >\n                  Google Drive\n                </a>{' '}\n                in API Library and enable access for your account. Access to the Google Drive API is used to list all\n                spreadsheets that you have access to.\n              </li>\n              <li>\n                Share any private files/folders you want to access with the service account&apos;s email address. The\n                email is specified as <code>client_email</code> in the Google JWT File.\n              </li>\n              <li>\n                Drag the file to the dotted zone above. Then click <code>Save & Test</code>. The file contents will be\n                encrypted and saved in the Grafana database.\n              </li>\n            </ol>\n          </>\n        );\n    }\n  };\n  return (\n    <Collapse\n      collapsible\n      label=\"Configure Google Sheets Authentication\"\n      isOpen={isOpen}\n      onToggle={() => setIsOpen((x) => !x)}\n    >\n      {renderHelpBody()}\n    </Collapse>\n  );\n};\n","import React from 'react';\nimport { css, cx } from '@emotion/css';\nimport { useTheme2 } from '@grafana/ui';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst DataSourceDescription = ({ dataSourceName, docsLink, hasRequiredFields = true, className }) => {\n  const theme = useTheme2();\n  const styles = {\n    container: css({\n      p: {\n        margin: 0\n      },\n      \"p + p\": {\n        marginTop: theme.spacing(2)\n      }\n    }),\n    text: css(__spreadProps(__spreadValues({}, theme.typography.body), {\n      color: theme.colors.text.secondary,\n      a: css({\n        color: theme.colors.text.link,\n        textDecoration: \"underline\",\n        \"&:hover\": {\n          textDecoration: \"none\"\n        }\n      })\n    }))\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", { className: cx(styles.container, className) }, /* @__PURE__ */ React.createElement(\"p\", { className: styles.text }, \"Before you can use the \", dataSourceName, \" data source, you must configure it below or in the config file. For detailed instructions,\", \" \", /* @__PURE__ */ React.createElement(\"a\", { href: docsLink, target: \"_blank\", rel: \"noreferrer\" }, \"view the documentation\"), \".\"), hasRequiredFields && /* @__PURE__ */ React.createElement(\"p\", { className: styles.text }, /* @__PURE__ */ React.createElement(\"i\", null, \"Fields marked with * are required\")));\n};\n\nexport { DataSourceDescription };\n//# sourceMappingURL=DataSourceDescription.js.map\n","import { css } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport React from 'react';\n\n// this custom component is necessary because the Grafana UI <Divider /> component is not backwards compatible with Grafana < 10.1.0\nexport const Divider = () => {\n  const styles = useStyles2(getStyles);\n  return <hr className={styles.horizontalDivider} />;\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    horizontalDivider: css({\n      borderTop: `1px solid ${theme.colors.border.weak}`,\n      margin: theme.spacing(2, 0),\n      width: '100%',\n    }),\n  };\n};\n","import { DataFrame, MetadataInspectorProps } from '@grafana/data';\nimport { DataSourceOptions } from '@grafana/google-sdk';\nimport React, { PureComponent } from 'react';\nimport { DataSource } from '../DataSource';\nimport { SheetResponseMeta, SheetsQuery } from '../types';\n\nexport type Props = MetadataInspectorProps<DataSource, SheetsQuery, DataSourceOptions>;\n\nexport class MetaInspector extends PureComponent<Props> {\n  state = { index: 0 };\n\n  renderInfo = (frame: DataFrame) => {\n    const meta = frame.meta?.custom as SheetResponseMeta;\n    if (!meta) {\n      return null;\n    }\n\n    return (\n      <div>\n        <h3>Info</h3>\n        <pre>{JSON.stringify(meta, null, 2)}</pre>\n      </div>\n    );\n  };\n\n  render() {\n    const { data } = this.props;\n    if (!data || !data.length) {\n      return <div>No Data</div>;\n    }\n    return (\n      <div>\n        <h3>Google Sheets Metadata</h3>\n        {data.map((frame) => {\n          return this.renderInfo(frame);\n        })}\n      </div>\n    );\n  }\n}\n","import {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  ScopedVars,\n  SelectableValue,\n} from '@grafana/data';\nimport { DataSourceOptions } from '@grafana/google-sdk';\nimport { DataSourceWithBackend, getTemplateSrv } from '@grafana/runtime';\nimport { SheetsQuery } from './types';\nimport { Observable } from 'rxjs';\nimport { trackRequest } from 'tracking';\n\nexport class DataSource extends DataSourceWithBackend<SheetsQuery, DataSourceOptions> {\n  authType: string;\n  constructor(instanceSettings: DataSourceInstanceSettings<DataSourceOptions>) {\n    super(instanceSettings);\n    this.authType = instanceSettings.jsonData.authenticationType;\n  }\n\n  query(request: DataQueryRequest<SheetsQuery>): Observable<DataQueryResponse> {\n    trackRequest(request);\n    return super.query(request);\n  }\n\n  // Enables default annotation support for 7.2+\n  annotations = {};\n\n  // Support template variables for spreadsheet and range\n  applyTemplateVariables(query: SheetsQuery, scopedVars: ScopedVars) {\n    const templateSrv = getTemplateSrv();\n    return {\n      ...query,\n      spreadsheet: templateSrv.replace(query.spreadsheet, scopedVars),\n      range: query.range ? templateSrv.replace(query.range, scopedVars) : '',\n    };\n  }\n\n  async getSpreadSheets(): Promise<Array<SelectableValue<string>>> {\n    return this.getResource('spreadsheets').then(({ spreadsheets }) =>\n      spreadsheets\n        ? Object.entries(spreadsheets).map(([value, label]) => ({ label, value }) as SelectableValue<string>)\n        : []\n    );\n  }\n}\n","import { CoreApp, DataQueryRequest } from '@grafana/data';\nimport { reportInteraction } from '@grafana/runtime';\nimport { SheetsQuery } from 'types';\n\nexport const trackRequest = (request: DataQueryRequest<SheetsQuery>) => {\n  if (request.app === CoreApp.Dashboard || request.app === CoreApp.PanelViewer) {\n    return;\n  }\n\n  request.targets.forEach((target) => {\n    reportInteraction('grafana_google_sheets_query_executed', {\n      app: request.app,\n      useTimeFilter: target.useTimeFilter ?? false,\n      cacheDurationSeconds: target.cacheDurationSeconds ?? 0,\n    });\n  });\n};\n","import { DataSourcePlugin } from '@grafana/data';\nimport { DataSourceOptions } from '@grafana/google-sdk';\nimport { ConfigEditor, MetaInspector, QueryEditor } from './components';\nimport { DataSource } from './DataSource';\nimport { SheetsQuery } from './types';\n\nexport const plugin = new DataSourcePlugin<DataSource, SheetsQuery, DataSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor)\n  .setMetadataInspector(MetaInspector);\n","import { DataSourcePluginOptionsEditorProps, onUpdateDatasourceSecureJsonDataOption } from '@grafana/data';\nimport { AuthConfig, DataSourceOptions } from '@grafana/google-sdk';\nimport { Field, SecretInput } from '@grafana/ui';\nimport React from 'react';\nimport { GoogleSheetsAuth, GoogleSheetsSecureJSONData, googleSheetsAuthTypes } from '../types';\nimport { getBackwardCompatibleOptions } from '../utils';\nimport { ConfigurationHelp } from './ConfigurationHelp';\nimport { DataSourceDescription } from '@grafana/experimental';\nimport { Divider } from './Divider';\n\nexport type Props = DataSourcePluginOptionsEditorProps<DataSourceOptions, GoogleSheetsSecureJSONData>;\n\nexport function ConfigEditor(props: Props) {\n  const options = getBackwardCompatibleOptions(props.options);\n\n  const apiKeyProps = {\n    isConfigured: Boolean(options.secureJsonFields.apiKey),\n    value: options.secureJsonData?.apiKey || '',\n    placeholder: 'Enter API key',\n    id: 'apiKey',\n    onReset: () =>\n      props.onOptionsChange({\n        ...options,\n        secureJsonFields: { ...options.secureJsonFields, apiKey: false },\n        secureJsonData: { apiKey: '' },\n        jsonData: options.jsonData,\n      }),\n    onChange: onUpdateDatasourceSecureJsonDataOption(props, 'apiKey'),\n  };\n\n  return (\n    <>\n      <DataSourceDescription\n        dataSourceName=\"Google Sheets\"\n        docsLink=\"https://grafana.com/grafana/plugins/grafana-googlesheets-datasource/\"\n        hasRequiredFields={false}\n      />\n\n      <Divider />\n\n      <ConfigurationHelp authenticationType={options.jsonData.authenticationType} />\n\n      <Divider />\n\n      <AuthConfig authOptions={googleSheetsAuthTypes} onOptionsChange={props.onOptionsChange} options={options} />\n\n      {options.jsonData.authenticationType === GoogleSheetsAuth.API && (\n        <Field label=\"API Key\">\n          <SecretInput {...apiKeyProps} label=\"API key\" width={40} />\n        </Field>\n      )}\n    </>\n  );\n}\n","import { GoogleSheetsAuth } from './types';\nimport { Props } from './components/ConfigEditor';\n\nexport function getBackwardCompatibleOptions(options: Props['options']): Props['options'] {\n  const changedOptions = {\n    ...options,\n    jsonData: { ...options.jsonData },\n    secureJsonFields: { ...options.secureJsonFields },\n  };\n  // Make sure we support the old authType property\n  changedOptions.jsonData.authenticationType = options.jsonData.authenticationType || options.jsonData.authType!;\n\n  // Show a configured message for the JWT fields when JWT is set in secureJsonFields\n  if (changedOptions.jsonData.authenticationType === GoogleSheetsAuth.JWT && options.secureJsonFields?.jwt) {\n    changedOptions.jsonData.clientEmail = 'configured';\n    changedOptions.jsonData.defaultProject = 'configured';\n    changedOptions.jsonData.tokenUri = 'configured';\n    changedOptions.secureJsonFields.privateKey = true;\n  }\n\n  return changedOptions;\n}\n"],"names":["e","t","a","n","o","default","l","i","JWT","GCE","c","d","v","b","onChange","showConfigEditor","showPaste","showUpload","isPasting","r","isUploading","p","f","m","useState","g","useTheme2","h","useCallback","E","T","trim","JSON","parse","j","isValid","privateKey","private_key","tokenUri","token_uri","clientEmail","client_email","projectId","project_id","error","createElement","Fragment","Field","label","invalid","Boolean","description","FileDropzone","options","multiple","accept","readAs","onLoad","style","margin","fontSize","typography","h4","textAlign","Button","fill","TextArea","autoFocus","placeholder","onBlur","currentTarget","value","rows","type","color","colors","primary","text","onClick","paddingRight","paddingLeft","isObject","filter","length","join","SecretFormField","k","LegacyForms","J","PATH","P","onReset","onOptionsChange","s","u","privateKeyPath","jsonData","onUpdateDatasourceJsonDataOption","y","className","isConfigured","secureJsonFields","secureJsonData","onUpdateDatasourceSecureJsonDataOption","Input","id","width","defaultProject","SecretInput","Object","assign","labelWidth","inputWidth","O","W","ariaLabel","exports","AuthConfig","authOptions","authenticationType","FieldSet","RadioButtonGroup","GOOGLE_AUTH_TYPE_OPTIONS","GoogleAuthType","module","__WEBPACK_EXTERNAL_MODULE__89__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__531__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__241__","__WEBPACK_EXTERNAL_MODULE__959__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","key","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","toGoogleURL","info","url","spreadsheet","range","formatCacheTimeLabel","QueryEditor","PureComponent","componentDidMount","this","props","query","cacheDurationSeconds","render","onRunQuery","datasource","styles","getStyles","InlineFieldRow","rowSpacing","InlineFormLabel","tooltip","code","SegmentAsync","loadOptions","getSpreadSheets","allowCustomValue","onSpreadsheetIDChange","LinkButton","marginTop","icon","href","target","reportInteraction","QueryRowTerminator","onRangeChange","marginRight","Segment","map","secondsValue","InlineSwitch","useTimeFilter","toggleUseTimeFilter","event","item","test","idx","indexOf","substring","getGoogleSheetRangeInfoFromURL","checked","rowTerminator","css","marginBottom","flexGrow","GoogleSheetsAuth","API","googleSheetsAuthTypes","ConfigurationHelp","isOpen","setIsOpen","theme","Collapse","collapsible","onToggle","x","ol","listStylePosition","li","rel","link","strong","spacing","renderHelpBody","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","configurable","writable","__spreadValues","DataSourceDescription","dataSourceName","docsLink","hasRequiredFields","container","body","secondary","textDecoration","cx","Divider","useStyles2","hr","horizontalDivider","borderTop","border","weak","MetaInspector","data","div","h3","frame","renderInfo","state","index","meta","custom","pre","stringify","DataSource","DataSourceWithBackend","request","app","CoreApp","Dashboard","PanelViewer","targets","forEach","trackRequest","super","applyTemplateVariables","scopedVars","templateSrv","getTemplateSrv","replace","getResource","then","spreadsheets","entries","constructor","instanceSettings","authType","annotations","plugin","DataSourcePlugin","setConfigEditor","changedOptions","jwt","getBackwardCompatibleOptions","apiKeyProps","apiKey","setQueryEditor","setMetadataInspector"],"sourceRoot":""}